(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{38:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var c=n(14),o=n.n(c),a=n(3),r=n(1),u=n(4),i=n.n(u),s="http://localhost:3001/notes",j=function(){return i.a.get(s)},b=function(e){return i.a.post(s,e)},d=function(e,t){return i.a.put("".concat(s,"/").concat(e),t)},l=function(e,t){return i.a.delete("".concat(s,"/").concat(e),t)},h=n(0),m=function(e){var t=e.onSubmit,n=e.onChange,c=e.numberChange,o=e.newName,a=e.newNumber;return Object(h.jsx)("div",{children:Object(h.jsxs)("form",{onSubmit:t,children:[Object(h.jsxs)("div",{children:["Name: ",Object(h.jsx)("input",{value:o,onChange:n,required:!0})]}),Object(h.jsxs)("div",{children:["Number:"," ",Object(h.jsx)("input",{type:"number",value:a,onChange:c,required:!0})]}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{type:"submit",children:"add"})})]})})},f=function(e){var t=e.value,n=e.onChange;return Object(h.jsxs)("div",{children:["Filter Phonebook",Object(h.jsx)("input",{value:t,onChange:n})]})},O=function(e){var t=e.name,n=e.id,c=e.noteObject,o=e.setNotes;return Object(h.jsx)("button",{onClick:function(){window.confirm("Delete ".concat(t))&&l(n,c).then((function(e){j().then((function(e){o(e.data)}))}))},children:"delete"})},v=function(e){var t=e.data,n=e.nameFilter,c=e.noteObject,o=e.setNotes;return Object(h.jsx)("div",{children:t.map((function(e){return e.name.toLowerCase().indexOf(n.toLowerCase())>-1?Object(h.jsxs)("p",{children:[e.name," ",e.number," ",Object(h.jsx)(O,{name:e.name,id:e.id,noteObject:c,setNotes:o})]},e.id):null}))})},x=function(e){var t=e.message;e.errorMessages;return null===t?null:Object(h.jsx)("div",{className:"notification",children:t})},p=(n(38),function(){var e=Object(r.useState)([]),t=Object(a.a)(e,2),n=t[0],c=t[1],o=Object(r.useState)(""),u=Object(a.a)(o,2),i=u[0],s=u[1],l=Object(r.useState)(""),O=Object(a.a)(l,2),p=O[0],g=O[1],w=Object(r.useState)(""),N=Object(a.a)(w,2),C=N[0],S=N[1],k=Object(r.useState)(null),y=Object(a.a)(k,2),D=y[0],F=y[1],M=Object(r.useState)(null),q=Object(a.a)(M,2),A=q[0],E=q[1];Object(r.useEffect)((function(){j().then((function(e){c(e.data)}))}),[]);return Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:"Phonebook"}),Object(h.jsx)(x,{message:D,errorMessage:A}),Object(h.jsx)(f,{value:C,onChange:function(e){S(e.target.value)}}),Object(h.jsx)("h2",{children:"Add a new"}),Object(h.jsx)(m,{onSubmit:function(e){e.preventDefault();var t={name:i,number:p,date:new Date,important:Math.random()<.5};if(n.some((function(e){return e.name.includes(i)}))){if(window.confirm("".concat(i," is already added to the phonebook, replace the old number with a new one?"))){var o=n.findIndex((function(e){return e.name===i}));d(n[o].id,t).then((function(e){j().then((function(e){c(e.data)})).catch((function(e){console.log(e),E("Note '".concat(n.content,"' was already removed from server")),setTimeout((function(){E(null)}),5e3)}))}))}s(""),g("")}else b(t).then((function(e){c(n.concat(e.data)),s(""),g(""),F("Added ".concat(i)),setTimeout((function(){F(null)}),3e3)}))},onChange:function(e){s(e.target.value)},numberChange:function(e){g(e.target.value)},newName:i,newNumber:p}),Object(h.jsx)("h2",{children:"Numbers"}),Object(h.jsx)(v,{data:n,nameFilter:C,noteObject:{},setNotes:c})]})});o.a.render(Object(h.jsx)(p,{}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.824d99c0.chunk.js.map